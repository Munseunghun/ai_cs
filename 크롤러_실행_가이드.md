# ğŸš€ í¬ë¡¤ëŸ¬ ì‹¤í–‰ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

http://localhost:3000/search í˜ì´ì§€ì—ì„œ **ì‹¤ì œ ìˆ˜ì§‘ëœ ë°ì´í„°**ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•´ ë„¤ì´ë²„ ì‡¼í•‘ë¼ì´ë¸Œ í¬ë¡¤ëŸ¬ë¥¼ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

í˜„ì¬ ìƒíƒœ: **Mock ë°ì´í„° í‘œì‹œ ì¤‘** â†’ **ì‹¤ì œ ë°ì´í„° ìˆ˜ì§‘ í•„ìš”**

---

## âœ… ì‚¬ì „ ì¤€ë¹„

### 1. Python ì„¤ì¹˜ í™•ì¸

```bash
python3 --version
```

Python 3.8 ì´ìƒì´ í•„ìš”í•©ë‹ˆë‹¤.

### 2. ChromeDriver ì„¤ì¹˜

```bash
# macOS (Homebrew ì‚¬ìš©)
brew install chromedriver

# ì„¤ì¹˜ í™•ì¸
chromedriver --version
```

### 3. í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ/backend/crawler"

# requirements.txtë¡œ ì¼ê´„ ì„¤ì¹˜
pip3 install -r requirements.txt
```

**ì„¤ì¹˜ë˜ëŠ” íŒ¨í‚¤ì§€**:
- `selenium`: ì›¹ í¬ë¡¤ë§
- `supabase`: ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
- `schedule`: ìŠ¤ì¼€ì¤„ë§
- `python-dotenv`: í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬

### 4. í™˜ê²½ë³€ìˆ˜ ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` íŒŒì¼ì´ ì´ë¯¸ ìˆëŠ”ì§€ í™•ì¸:

```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ"
cat .env
```

ë§Œì•½ ì—†ë‹¤ë©´ ìƒì„±:

```bash
cat > .env << EOF
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
EOF
```

**Supabase ì •ë³´ í™•ì¸ ë°©ë²•**:
1. Supabase ëŒ€ì‹œë³´ë“œ ì ‘ì†: https://app.supabase.com
2. í”„ë¡œì íŠ¸ ì„ íƒ
3. Settings â†’ API ë©”ë‰´
4. `Project URL`ê³¼ `anon public` í‚¤ ë³µì‚¬

---

## ğŸ¯ ì‹¤í–‰ ë°©ë²•

### ë°©ë²• 1: ë‹¨ì¼ ì‹¤í–‰ (í…ŒìŠ¤íŠ¸ìš©) â­ ì¶”ì²œ

ë°ì´í„°ê°€ ì •ìƒì ìœ¼ë¡œ ìˆ˜ì§‘ë˜ëŠ”ì§€ ë¨¼ì € í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”.

```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ/backend/crawler"

# í¬ë¡¤ëŸ¬ ì‹¤í–‰
./start_crawler.sh
```

**ì‹¤í–‰ ê²°ê³¼**:
```
==================================================
ğŸš€ ë„¤ì´ë²„ ì‡¼í•‘ë¼ì´ë¸Œ í¬ë¡¤ëŸ¬ ì‹œì‘
==================================================
ğŸ“Œ Python ë²„ì „ í™•ì¸...
Python 3.11.5

ğŸ“¦ í•„ìš”í•œ íŒ¨í‚¤ì§€ í™•ì¸...
âœ… í™˜ê²½ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ

==================================================
ğŸ” í¬ë¡¤ëŸ¬ ì‹¤í–‰ ì¤‘...
==================================================
ğŸ” ë¼ë„¤ì¦ˆ ë¸Œëœë“œ í¬ë¡¤ë§ ì‹œì‘...
ğŸ“¦ 5ê°œì˜ ë¼ì´ë¸Œ ë°©ì†¡ ë°œê²¬
  âœ… [1] ë¼ë„¤ì¦ˆ ë„¤ì˜¤ ì¿ ì…˜ íŠ¹ë³„ ë°©ì†¡
  âœ… [2] ë¼ë„¤ì¦ˆ ì›Œí„° ë±…í¬ ë¼ì´ë¸Œ
  ...
âœ… ë¼ë„¤ì¦ˆ ë¸Œëœë“œ í¬ë¡¤ë§ ì™„ë£Œ: 5ê°œ ìˆ˜ì§‘

ğŸ” ì„¤í™”ìˆ˜ ë¸Œëœë“œ í¬ë¡¤ë§ ì‹œì‘...
...

==========================================
ğŸ“Š í¬ë¡¤ë§ ì™„ë£Œ í†µê³„
==========================================
- ëŒ€ìƒ ë¸Œëœë“œ: 10ê°œ
- ì„±ê³µ ë¸Œëœë“œ: 10ê°œ
- ìˆ˜ì§‘ ë¼ì´ë¸Œ: 50ê°œ
- ì €ì¥ ì„±ê³µ: 50ê°œ
==========================================

âœ… í¬ë¡¤ëŸ¬ ì‹¤í–‰ ì™„ë£Œ
```

### ë°©ë²• 2: ìŠ¤ì¼€ì¤„ëŸ¬ ì‹¤í–‰ (ìš´ì˜ìš©)

1ì‹œê°„ë§ˆë‹¤ ìë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ/backend/crawler"

# ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘
./start_scheduler.sh
```

**ì‹¤í–‰ ê²°ê³¼**:
```
==================================================
â° ë°ì´í„° ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘
==================================================
ğŸ“… ìˆ˜ì§‘ ì£¼ê¸°: 1ì‹œê°„ë§ˆë‹¤
ğŸ“‚ ë¡œê·¸ íŒŒì¼: logs/scheduler_20251204.log
ğŸ“Š í†µê³„ íŒŒì¼: output/scheduler_stats.json
==================================================
â° ì´ˆê¸° ìˆ˜ì§‘ ì‹¤í–‰...

============================================================
ğŸš€ ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘: 2025-12-04 15:00:00
============================================================
...
âœ… ë°ì´í„° ìˆ˜ì§‘ ì„±ê³µ
============================================================
ğŸ“Š í†µê³„: ì´ 1íšŒ ì‹¤í–‰ (ì„±ê³µ: 1, ì‹¤íŒ¨: 0)
============================================================

â° ë‹¤ìŒ ìˆ˜ì§‘ ì˜ˆì •: ë§¤ ì‹œê°„ ì •ê°
âŒ¨ï¸  ì¢…ë£Œí•˜ë ¤ë©´ Ctrl+Cë¥¼ ëˆ„ë¥´ì„¸ìš”.
==================================================
```

**ì¢…ë£Œ ë°©ë²•**: `Ctrl+C`

### ë°©ë²• 3: ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰

í„°ë¯¸ë„ì„ ë‹«ì•„ë„ ê³„ì† ì‹¤í–‰ë©ë‹ˆë‹¤.

```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ/backend/crawler"

# ë°±ê·¸ë¼ìš´ë“œë¡œ ì‹¤í–‰
nohup python3 scheduler.py > logs/nohup.log 2>&1 &

# í”„ë¡œì„¸ìŠ¤ ID ì €ì¥
echo $! > scheduler.pid

# ì‹¤í–‰ í™•ì¸
ps aux | grep scheduler.py
```

**ì¢…ë£Œ ë°©ë²•**:
```bash
# PID íŒŒì¼ë¡œ ì¢…ë£Œ
kill $(cat scheduler.pid)

# ë˜ëŠ” í”„ë¡œì„¸ìŠ¤ ì°¾ì•„ì„œ ì¢…ë£Œ
ps aux | grep scheduler.py
kill <PID>
```

---

## ğŸ“Š ë°ì´í„° í™•ì¸

### 1. í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í™•ì¸

í¬ë¡¤ëŸ¬ ì‹¤í–‰ í›„ ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸:

```
http://localhost:3000/search
```

**í™•ì¸ ì‚¬í•­**:
- âœ… ì‹¤ì œ ë¸Œëœë“œëª… í‘œì‹œ (ë¼ë„¤ì¦ˆ, ì„¤í™”ìˆ˜ ë“±)
- âœ… ì‹¤ì œ ë°©ì†¡ ì œëª© í‘œì‹œ
- âœ… ë„¤ì´ë²„ ì‡¼í•‘ë¼ì´ë¸Œ URL ë§í¬
- âœ… ì¸ë„¤ì¼ ì´ë¯¸ì§€ í‘œì‹œ
- âŒ Mock ë°ì´í„° ì—†ìŒ

### 2. ë¡œê·¸ íŒŒì¼ í™•ì¸

```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ/backend/crawler"

# ì˜¤ëŠ˜ ë‚ ì§œ ë¡œê·¸ í™•ì¸
tail -f logs/scheduler_$(date +%Y%m%d).log
```

### 3. í†µê³„ íŒŒì¼ í™•ì¸

```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ/backend/crawler"

# í†µê³„ í™•ì¸
cat output/scheduler_stats.json | python3 -m json.tool
```

**í†µê³„ ì˜ˆì‹œ**:
```json
{
  "total_runs": 5,
  "successful_runs": 5,
  "failed_runs": 0,
  "last_run": "2025-12-04T15:00:00",
  "last_success": "2025-12-04T15:00:00",
  "last_error": null
}
```

### 4. Supabase ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸

Supabase ëŒ€ì‹œë³´ë“œì—ì„œ ì§ì ‘ í™•ì¸:

1. https://app.supabase.com ì ‘ì†
2. í”„ë¡œì íŠ¸ ì„ íƒ
3. Table Editor â†’ `live_broadcasts` í…Œì´ë¸” ì„ íƒ
4. ìˆ˜ì§‘ëœ ë°ì´í„° í™•ì¸

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ë¬¸ì œ 1: ChromeDriver ì˜¤ë¥˜

**ì¦ìƒ**:
```
selenium.common.exceptions.WebDriverException: Message: 'chromedriver' executable needs to be in PATH
```

**í•´ê²°**:
```bash
# ChromeDriver ì„¤ì¹˜
brew install chromedriver

# ì„¤ì¹˜ í™•ì¸
chromedriver --version
```

### ë¬¸ì œ 2: Supabase ì—°ê²° ì˜¤ë¥˜

**ì¦ìƒ**:
```
âŒ Supabase í™˜ê²½ë³€ìˆ˜ê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.
```

**í•´ê²°**:
```bash
# .env íŒŒì¼ í™•ì¸
cat "/Users/amore/ai_cs ì‹œìŠ¤í…œ/.env"

# í™˜ê²½ë³€ìˆ˜ ì§ì ‘ ì„¤ì •
export SUPABASE_URL='https://your-project.supabase.co'
export SUPABASE_ANON_KEY='your-anon-key'

# ë‹¤ì‹œ ì‹¤í–‰
./start_crawler.sh
```

### ë¬¸ì œ 3: íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì˜¤ë¥˜

**ì¦ìƒ**:
```
ModuleNotFoundError: No module named 'selenium'
```

**í•´ê²°**:
```bash
# íŒ¨í‚¤ì§€ ì¬ì„¤ì¹˜
pip3 install -r requirements.txt

# ë˜ëŠ” ê°œë³„ ì„¤ì¹˜
pip3 install selenium supabase schedule
```

### ë¬¸ì œ 4: ë°ì´í„°ê°€ ìˆ˜ì§‘ë˜ì§€ ì•ŠìŒ

**ì¦ìƒ**:
- í¬ë¡¤ëŸ¬ëŠ” ì‹¤í–‰ë˜ì§€ë§Œ ë°ì´í„°ê°€ 0ê°œ

**í•´ê²°**:
```bash
# ë¡œê·¸ í™•ì¸
tail -50 logs/scheduler_$(date +%Y%m%d).log

# í¬ë¡¤ëŸ¬ ì§ì ‘ ì‹¤í–‰í•˜ì—¬ ì—ëŸ¬ í™•ì¸
python3 naver_live_crawler.py
```

**ê°€ëŠ¥í•œ ì›ì¸**:
- ë„¤ì´ë²„ ì‡¼í•‘ë¼ì´ë¸Œ í˜ì´ì§€ êµ¬ì¡° ë³€ê²½
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œ
- ChromeDriver ë²„ì „ ë¶ˆì¼ì¹˜

### ë¬¸ì œ 5: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°ì´í„°ê°€ ì•ˆ ë³´ì„

**í™•ì¸ ì‚¬í•­**:

1. **ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰ í™•ì¸**:
```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ/backend"
npm start
```

2. **í”„ë¡ íŠ¸ì—”ë“œ ì„œë²„ ì‹¤í–‰ í™•ì¸**:
```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ/frontend"
npm start
```

3. **ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ**:
- Chrome: `Cmd+Shift+R` (ê°•ë ¥ ìƒˆë¡œê³ ì¹¨)
- ê°œë°œì ë„êµ¬ â†’ Network íƒ­ â†’ "Disable cache" ì²´í¬

4. **API ì‘ë‹µ í™•ì¸**:
ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ â†’ Network íƒ­ì—ì„œ `/api/events/search` ìš”ì²­ í™•ì¸

---

## ğŸ“ˆ ëª¨ë‹ˆí„°ë§

### ì‹¤ì‹œê°„ ë¡œê·¸ ëª¨ë‹ˆí„°ë§

```bash
cd "/Users/amore/ai_cs ì‹œìŠ¤í…œ/backend/crawler"

# ë¡œê·¸ ì‹¤ì‹œê°„ í™•ì¸
tail -f logs/scheduler_$(date +%Y%m%d).log
```

### ìˆ˜ì§‘ í†µê³„ í™•ì¸

```bash
# í†µê³„ íŒŒì¼ í™•ì¸
cat output/scheduler_stats.json | python3 -m json.tool

# ìµœê·¼ í¬ë¡¤ë§ ê²°ê³¼ í™•ì¸
ls -lht output/crawl_stats_*.json | head -5
```

---

## âš™ï¸ ì„¤ì • ë³€ê²½

### ìˆ˜ì§‘ ì£¼ê¸° ë³€ê²½

`scheduler.py` íŒŒì¼ ìˆ˜ì •:

```python
# í˜„ì¬: ë§¤ ì‹œê°„ ì •ê°ì— ì‹¤í–‰
schedule.every().hour.at(":00").do(self.collect_data)

# 30ë¶„ë§ˆë‹¤ ì‹¤í–‰
schedule.every(30).minutes.do(self.collect_data)

# 2ì‹œê°„ë§ˆë‹¤ ì‹¤í–‰
schedule.every(2).hours.do(self.collect_data)
```

### ë¸Œëœë“œë‹¹ ìˆ˜ì§‘ ê°œìˆ˜ ë³€ê²½

`naver_live_crawler.py` íŒŒì¼ì˜ `main()` í•¨ìˆ˜ ìˆ˜ì •:

```python
# í˜„ì¬: ë¸Œëœë“œë‹¹ 5ê°œ
_v_stats = _v_crawler.crawl_all_brands(p_max_per_brand=5)

# ë³€ê²½: ë¸Œëœë“œë‹¹ 10ê°œ
_v_stats = _v_crawler.crawl_all_brands(p_max_per_brand=10)
```

---

## âœ¨ ì™„ë£Œ!

ì´ì œ http://localhost:3000/search í˜ì´ì§€ì—ì„œ **ì‹¤ì œ ìˆ˜ì§‘ëœ ë°ì´í„°**ê°€ í‘œì‹œë©ë‹ˆë‹¤! ğŸ‰

### ë¹ ë¥¸ ì‹œì‘ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Python 3.8+ ì„¤ì¹˜ í™•ì¸
- [ ] ChromeDriver ì„¤ì¹˜
- [ ] í•„ìš”í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ (`pip3 install -r requirements.txt`)
- [ ] í™˜ê²½ë³€ìˆ˜ ì„¤ì • (`.env` íŒŒì¼)
- [ ] í¬ë¡¤ëŸ¬ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (`./start_crawler.sh`)
- [ ] í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°ì´í„° í™•ì¸ (http://localhost:3000/search)
- [ ] ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘ (`./start_scheduler.sh`) - ì„ íƒì‚¬í•­

---

## ğŸ“ ì¶”ê°€ ë„ì›€

ë¬¸ì œê°€ ê³„ì† ë°œìƒí•˜ë©´:

1. **ë¡œê·¸ íŒŒì¼ í™•ì¸**: `logs/scheduler_YYYYMMDD.log`
2. **í†µê³„ íŒŒì¼ í™•ì¸**: `output/scheduler_stats.json`
3. **Supabase ëŒ€ì‹œë³´ë“œ í™•ì¸**: ë°ì´í„°ê°€ ì‹¤ì œë¡œ ì €ì¥ë˜ì—ˆëŠ”ì§€ í™•ì¸
4. **ë°±ì—”ë“œ ë¡œê·¸ í™•ì¸**: `backend/logs/` ë””ë ‰í† ë¦¬

---

**ì°¸ê³  ë¬¸ì„œ**:
- [í¬ë¡¤ëŸ¬ README](backend/crawler/README.md)
- [ë°ì´í„° ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ ê°€ì´ë“œ](ë°ì´í„°_ìˆ˜ì§‘_ìŠ¤ì¼€ì¤„ëŸ¬_ê°€ì´ë“œ.md)
- [ë„¤ì´ë²„ ì‡¼í•‘ë¼ì´ë¸Œ í†µí•© ê°€ì´ë“œ](ë„¤ì´ë²„_ì‡¼í•‘ë¼ì´ë¸Œ_í†µí•©_ê°€ì´ë“œ.md)




