# ì¸ìˆ˜ì¸ê³„ìš© ì‚°ì¶œë¬¼ 05: ì†ŒìŠ¤ì½”ë“œ êµ¬ì¡° ë° ê°œë°œ ê°€ì´ë“œ

**ë¬¸ì„œ ë²„ì „**: 1.0
**ì‘ì„±ì¼**: 2025-12-08
**í”„ë¡œì íŠ¸ëª…**: AI CS ì‹œìŠ¤í…œ

---

## ğŸ“‹ ëª©ì°¨

1. [ì†ŒìŠ¤ì½”ë“œ ê°œìš”](#1-ì†ŒìŠ¤ì½”ë“œ-ê°œìš”)
2. [í”„ë¡œì íŠ¸ êµ¬ì¡°](#2-í”„ë¡œì íŠ¸-êµ¬ì¡°)
3. [í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ê°€ì´ë“œ](#3-í”„ë¡ íŠ¸ì—”ë“œ-ê°œë°œ-ê°€ì´ë“œ)
4. [ë°±ì—”ë“œ ê°œë°œ ê°€ì´ë“œ](#4-ë°±ì—”ë“œ-ê°œë°œ-ê°€ì´ë“œ)
5. [í¬ë¡¤ëŸ¬ ê°œë°œ ê°€ì´ë“œ](#5-í¬ë¡¤ëŸ¬-ê°œë°œ-ê°€ì´ë“œ)
6. [ì½”ë”© ì»¨ë²¤ì…˜](#6-ì½”ë”©-ì»¨ë²¤ì…˜)
7. [ê°œë°œ í™˜ê²½ ì„¤ì •](#7-ê°œë°œ-í™˜ê²½-ì„¤ì •)

---

## 1. ì†ŒìŠ¤ì½”ë“œ ê°œìš”

### 1.1 ì €ì¥ì†Œ ì •ë³´

**GitHub ì €ì¥ì†Œ**: https://github.com/Munseunghun/ai_cs

**ë¸Œëœì¹˜ ì „ëµ**:
- `main`: í”„ë¡œë•ì…˜ ë¸Œëœì¹˜ (ë°°í¬ìš©)
- `develop`: ê°œë°œ ë¸Œëœì¹˜ (ê°œë°œìš©)
- `feature/*`: ê¸°ëŠ¥ ê°œë°œ ë¸Œëœì¹˜

**ì»¤ë°‹ ë©”ì‹œì§€ ì»¨ë²¤ì…˜**:
```
feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
fix: ë²„ê·¸ ìˆ˜ì •
docs: ë¬¸ì„œ ìˆ˜ì •
style: ì½”ë“œ í¬ë§·íŒ…
refactor: ì½”ë“œ ë¦¬íŒ©í† ë§
test: í…ŒìŠ¤íŠ¸ ì½”ë“œ
chore: ë¹Œë“œ ì„¤ì • ë“±
```

### 1.2 ì½”ë“œ í†µê³„

| í•­ëª© | ìˆ˜ëŸ‰ |
|------|------|
| ì´ íŒŒì¼ ìˆ˜ | 151ê°œ |
| ì´ ì½”ë“œ ë¼ì¸ | 40,240ì¤„ |
| í”„ë¡ íŠ¸ì—”ë“œ | 15,320ì¤„ |
| ë°±ì—”ë“œ | 18,650ì¤„ |
| í¬ë¡¤ëŸ¬ | 6,270ì¤„ |

---

## 2. í”„ë¡œì íŠ¸ êµ¬ì¡°

### 2.1 ì „ì²´ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
ai_cs ì‹œìŠ¤í…œ/
â”œâ”€â”€ frontend/                    # í”„ë¡ íŠ¸ì—”ë“œ (React)
â”‚   â”œâ”€â”€ public/                  # ì •ì  íŒŒì¼
â”‚   â”œâ”€â”€ src/                     # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”‚   â”œâ”€â”€ api/                 # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ components/          # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ pages/               # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ store/               # ìƒíƒœ ê´€ë¦¬ (Zustand)
â”‚   â”‚   â”œâ”€â”€ utils/               # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â”œâ”€â”€ App.jsx              # ë©”ì¸ App
â”‚   â”‚   â””â”€â”€ index.js             # ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”‚   â”œâ”€â”€ package.json             # ì˜ì¡´ì„± ê´€ë¦¬
â”‚   â””â”€â”€ .env.production          # í™˜ê²½ ë³€ìˆ˜
â”‚
â”œâ”€â”€ backend/                     # ë°±ì—”ë“œ (Node.js/Express)
â”‚   â”œâ”€â”€ src/                     # ì†ŒìŠ¤ ì½”ë“œ
â”‚   â”‚   â”œâ”€â”€ config/              # ì„¤ì • íŒŒì¼
â”‚   â”‚   â”‚   â”œâ”€â”€ database.js      # DB ì—°ê²°
â”‚   â”‚   â”‚   â”œâ”€â”€ supabase.js      # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ logger.js        # ë¡œê¹… ì„¤ì •
â”‚   â”‚   â”‚   â””â”€â”€ redis.js         # Redis ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ middleware/          # ë¯¸ë“¤ì›¨ì–´
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js          # JWT ì¸ì¦
â”‚   â”‚   â”‚   â”œâ”€â”€ validator.js     # ì…ë ¥ ê²€ì¦
â”‚   â”‚   â”‚   â””â”€â”€ rateLimit.js     # Rate Limiting
â”‚   â”‚   â”œâ”€â”€ routes/              # API ë¼ìš°íŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ authRoutes.js    # ì¸ì¦ API
â”‚   â”‚   â”‚   â”œâ”€â”€ eventRoutes.js   # ì´ë²¤íŠ¸ API
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboardRoutes.js # ëŒ€ì‹œë³´ë“œ API
â”‚   â”‚   â”‚   â”œâ”€â”€ adminRoutes.js   # ê´€ë¦¬ì API
â”‚   â”‚   â”‚   â””â”€â”€ favoriteRoutes.js # ì¦ê²¨ì°¾ê¸° API
â”‚   â”‚   â”œâ”€â”€ services/            # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚   â”œâ”€â”€ eventService.js  # ì´ë²¤íŠ¸ ì„œë¹„ìŠ¤
â”‚   â”‚   â”‚   â”œâ”€â”€ userService.js   # ì‚¬ìš©ì ì„œë¹„ìŠ¤
â”‚   â”‚   â”‚   â””â”€â”€ favoriteService.js # ì¦ê²¨ì°¾ê¸° ì„œë¹„ìŠ¤
â”‚   â”‚   â””â”€â”€ server.js            # ë©”ì¸ ì„œë²„
â”‚   â”œâ”€â”€ package.json             # ì˜ì¡´ì„± ê´€ë¦¬
â”‚   â””â”€â”€ .env                     # í™˜ê²½ ë³€ìˆ˜
â”‚
â”œâ”€â”€ crawler/                     # í¬ë¡¤ëŸ¬ (Python)
â”‚   â”œâ”€â”€ config/                  # ì„¤ì • íŒŒì¼
â”‚   â”‚   â”œâ”€â”€ platforms.json       # í”Œë«í¼ ì„¤ì •
â”‚   â”‚   â””â”€â”€ brands.json          # ë¸Œëœë“œ ì„¤ì •
â”‚   â”œâ”€â”€ logs/                    # ë¡œê·¸ íŒŒì¼
â”‚   â”œâ”€â”€ output/                  # ì¶œë ¥ íŒŒì¼
â”‚   â”œâ”€â”€ comprehensive_naver_crawler.py # ë„¤ì´ë²„ í¬ë¡¤ëŸ¬
â”‚   â”œâ”€â”€ dynamic_scheduler.py     # ìŠ¤ì¼€ì¤„ëŸ¬
â”‚   â”œâ”€â”€ requirements.txt         # ì˜ì¡´ì„± ê´€ë¦¬
â”‚   â””â”€â”€ .env                     # í™˜ê²½ ë³€ìˆ˜
â”‚
â”œâ”€â”€ database/                    # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚   â”œâ”€â”€ supabase_schema.sql      # Supabase ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ create_tables.sql        # í…Œì´ë¸” ìƒì„± ìŠ¤í¬ë¦½íŠ¸
â”‚
â”œâ”€â”€ ì¸ìˆ˜ì¸ê³„ìš©_ì‚°ì¶œë¬¼/            # ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ
â”‚   â”œâ”€â”€ 01_í”„ë¡œì íŠ¸_ê°œìš”ì„œ.md
â”‚   â”œâ”€â”€ 03_API_ëª…ì„¸ì„œ.md
â”‚   â”œâ”€â”€ 04_ë°ì´í„°ë² ì´ìŠ¤_ì„¤ê³„ì„œ.md
â”‚   â”œâ”€â”€ 05_ì†ŒìŠ¤ì½”ë“œ_êµ¬ì¡°_ë°_ê°œë°œê°€ì´ë“œ.md
â”‚   â””â”€â”€ 06_ë°°í¬_ë°_ìš´ì˜_ê°€ì´ë“œ.md
â”‚
â”œâ”€â”€ netlify.toml                 # Netlify ë°°í¬ ì„¤ì •
â”œâ”€â”€ render.yaml                  # Render ë°°í¬ ì„¤ì •
â”œâ”€â”€ .gitignore                   # Git ë¬´ì‹œ íŒŒì¼
â””â”€â”€ README.md                    # í”„ë¡œì íŠ¸ ì„¤ëª…
```

---

## 3. í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ê°€ì´ë“œ

### 3.1 ê¸°ìˆ  ìŠ¤íƒ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| React | 18.2.0 | UI ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| Material-UI | 5.15.0 | UI ì»´í¬ë„ŒíŠ¸ |
| Zustand | 4.4.7 | ìƒíƒœ ê´€ë¦¬ |
| Axios | 1.6.2 | HTTP í´ë¼ì´ì–¸íŠ¸ |
| Recharts | 2.10.3 | ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| React Router | 6.20.1 | ë¼ìš°íŒ… |

### 3.2 ì£¼ìš” ë””ë ‰í† ë¦¬ ì„¤ëª…

#### 3.2.1 `/frontend/src/api/`

**axios.js**: Axios ì¸ìŠ¤í„´ìŠ¤ ì„¤ì •
```javascript
import axios from 'axios';

const api = axios.create({
  baseURL: process.env.REACT_APP_API_URL,
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json',
  },
});

// ìš”ì²­ ì¸í„°ì…‰í„° (í† í° ì¶”ê°€)
api.interceptors.request.use((config) => {
  const token = localStorage.getItem('token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// ì‘ë‹µ ì¸í„°ì…‰í„° (ì—ëŸ¬ ì²˜ë¦¬)
api.interceptors.response.use(
  (response) => response,
  (error) => {
    if (error.response?.status === 401) {
      // í† í° ë§Œë£Œ ì‹œ ë¡œê·¸ì•„ì›ƒ
      localStorage.removeItem('token');
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

export default api;
```

**services.js**: API í•¨ìˆ˜ ì •ì˜
```javascript
import api from './axios';

// ëŒ€ì‹œë³´ë“œ API
export const getDashboard = async () => {
  const response = await api.get('/api/dashboard');
  return response.data;
};

// ì´ë²¤íŠ¸ ê²€ìƒ‰ API
export const searchEvents = async (params) => {
  const response = await api.get('/api/events/search', { params });
  return response.data;
};

// ì´ë²¤íŠ¸ ìƒì„¸ API
export const getEventDetail = async (eventId) => {
  const response = await api.get(`/api/events/${eventId}`);
  return response.data;
};
```

#### 3.2.2 `/frontend/src/pages/`

**Dashboard.jsx**: ëŒ€ì‹œë³´ë“œ í˜ì´ì§€
```javascript
import React, { useEffect, useState } from 'react';
import { getDashboard } from '../api/services';
import { Grid, Card, CardContent, Typography } from '@mui/material';

const Dashboard = () => {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    loadDashboard();
  }, []);

  const loadDashboard = async () => {
    try {
      const result = await getDashboard();
      setData(result.data);
    } catch (error) {
      console.error('ëŒ€ì‹œë³´ë“œ ë¡œë“œ ì‹¤íŒ¨:', error);
    } finally {
      setLoading(false);
    }
  };

  if (loading) return <div>ë¡œë”© ì¤‘...</div>;

  return (
    <Grid container spacing={3}>
      <Grid item xs={12} md={3}>
        <Card>
          <CardContent>
            <Typography variant="h6">ì§„í–‰ ì¤‘ì¸ ë¼ì´ë¸Œ</Typography>
            <Typography variant="h4">
              {data?.statistics.active_events}
            </Typography>
          </CardContent>
        </Card>
      </Grid>
      {/* ë” ë§ì€ ì¹´ë“œ... */}
    </Grid>
  );
};

export default Dashboard;
```

#### 3.2.3 `/frontend/src/store/`

**authStore.js**: ì¸ì¦ ìƒíƒœ ê´€ë¦¬ (Zustand)
```javascript
import { create } from 'zustand';
import { persist } from 'zustand/middleware';

const useAuthStore = create(
  persist(
    (set) => ({
      user: null,
      token: null,
      isAuthenticated: false,
      
      login: (user, token) => {
        localStorage.setItem('token', token);
        set({ user, token, isAuthenticated: true });
      },
      
      logout: () => {
        localStorage.removeItem('token');
        set({ user: null, token: null, isAuthenticated: false });
      },
    }),
    {
      name: 'auth-storage',
    }
  )
);

export default useAuthStore;
```

### 3.3 ê°œë°œ í™˜ê²½ ì„¤ì •

**ë¡œì»¬ ì‹¤í–‰**:
```bash
cd frontend
npm install
npm start
```

**í™˜ê²½ ë³€ìˆ˜** (`.env.development`):
```env
REACT_APP_API_URL=http://localhost:3001
REACT_APP_SUPABASE_URL=https://uewhvekfjjvxoioklzza.supabase.co
REACT_APP_SUPABASE_ANON_KEY=***
```

**ë¹Œë“œ**:
```bash
npm run build
```

### 3.4 ì£¼ìš” ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸ | ê²½ë¡œ | ì„¤ëª… |
|---------|------|------|
| Dashboard | pages/Dashboard.jsx | ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ |
| SearchEvents | pages/SearchEvents.jsx | ì´ë²¤íŠ¸ ê²€ìƒ‰ í˜ì´ì§€ |
| LiveDetail | pages/LiveDetail.jsx | ë¼ì´ë¸Œ ìƒì„¸ í˜ì´ì§€ |
| AdminPanel | pages/AdminPanel.jsx | ê´€ë¦¬ì í˜ì´ì§€ |
| Login | pages/Login.jsx | ë¡œê·¸ì¸ í˜ì´ì§€ |

---

## 4. ë°±ì—”ë“œ ê°œë°œ ê°€ì´ë“œ

### 4.1 ê¸°ìˆ  ìŠ¤íƒ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Node.js | 18+ | ëŸ°íƒ€ì„ í™˜ê²½ |
| Express | 4.18.2 | ì›¹ í”„ë ˆì„ì›Œí¬ |
| Supabase JS | 2.86.0 | Supabase í´ë¼ì´ì–¸íŠ¸ |
| JWT | 9.0.2 | ì¸ì¦ í† í° |
| Winston | 3.11.0 | ë¡œê¹… |

### 4.2 ì£¼ìš” ë””ë ‰í† ë¦¬ ì„¤ëª…

#### 4.2.1 `/backend/src/config/`

**supabase.js**: Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
```javascript
const { createClient } = require('@supabase/supabase-js');
const logger = require('./logger');

// Supabase ì„¤ì •
const SUPABASE_URL = process.env.SUPABASE_URL;
const SUPABASE_KEY = process.env.SUPABASE_SECRET_KEY || 
                     process.env.SUPABASE_PUBLISHABLE_KEY || 
                     process.env.SUPABASE_ANON_KEY;

if (!SUPABASE_URL || !SUPABASE_KEY) {
  logger.error('Supabase ì„¤ì •ì´ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤.');
  throw new Error('Supabase ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.');
}

// Supabase í´ë¼ì´ì–¸íŠ¸ ìƒì„±
const supabase = createClient(SUPABASE_URL, SUPABASE_KEY);

module.exports = supabase;
```

**logger.js**: Winston ë¡œê±° ì„¤ì •
```javascript
const winston = require('winston');
const path = require('path');

const logger = winston.createLogger({
  level: process.env.LOG_LEVEL || 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.json()
  ),
  transports: [
    new winston.transports.Console({
      format: winston.format.simple(),
    }),
    new winston.transports.File({
      filename: path.join(__dirname, '../../logs/error.log'),
      level: 'error',
    }),
    new winston.transports.File({
      filename: path.join(__dirname, '../../logs/combined.log'),
    }),
  ],
});

module.exports = logger;
```

#### 4.2.2 `/backend/src/routes/`

**dashboardRoutes.js**: ëŒ€ì‹œë³´ë“œ API ë¼ìš°íŠ¸
```javascript
const express = require('express');
const router = express.Router();
const supabase = require('../config/supabase');
const logger = require('../config/logger');

/**
 * GET /api/dashboard
 * ëŒ€ì‹œë³´ë“œ ì „ì²´ ë°ì´í„° ì¡°íšŒ
 */
router.get('/', async (p_req, p_res) => {
  try {
    // í†µê³„ ì¡°íšŒ
    const { data: statistics, error: statsError } = await supabase
      .from('live_broadcasts')
      .select('status')
      .in('status', ['ACTIVE', 'PENDING']);

    if (statsError) throw statsError;

    // ì‘ë‹µ ë°ì´í„° êµ¬ì„±
    const _v_response = {
      success: true,
      data: {
        statistics: {
          active_events: statistics.filter(s => s.status === 'ACTIVE').length,
          pending_events: statistics.filter(s => s.status === 'PENDING').length,
        },
        // ... ë” ë§ì€ ë°ì´í„°
      },
    };

    p_res.json(_v_response);
  } catch (error) {
    logger.error('ëŒ€ì‹œë³´ë“œ ì¡°íšŒ ì‹¤íŒ¨:', error);
    p_res.status(500).json({
      success: false,
      message: 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
    });
  }
});

module.exports = router;
```

#### 4.2.3 `/backend/src/middleware/`

**auth.js**: JWT ì¸ì¦ ë¯¸ë“¤ì›¨ì–´
```javascript
const jwt = require('jsonwebtoken');
const logger = require('../config/logger');

/**
 * JWT í† í° ê²€ì¦ ë¯¸ë“¤ì›¨ì–´
 */
const authenticateToken = (p_req, p_res, p_next) => {
  const _v_auth_header = p_req.headers['authorization'];
  const _v_token = _v_auth_header && _v_auth_header.split(' ')[1];

  if (!_v_token) {
    return p_res.status(401).json({
      success: false,
      message: 'ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.',
      error: { code: 'AUTHENTICATION_REQUIRED' },
    });
  }

  jwt.verify(_v_token, process.env.JWT_SECRET, (p_error, p_user) => {
    if (p_error) {
      logger.error('í† í° ê²€ì¦ ì‹¤íŒ¨:', p_error);
      return p_res.status(401).json({
        success: false,
        message: 'ìœ íš¨í•˜ì§€ ì•Šì€ í† í°ì…ë‹ˆë‹¤.',
        error: { code: 'INVALID_TOKEN' },
      });
    }

    p_req.user = p_user;
    p_next();
  });
};

module.exports = { authenticateToken };
```

### 4.3 ê°œë°œ í™˜ê²½ ì„¤ì •

**ë¡œì»¬ ì‹¤í–‰**:
```bash
cd backend
npm install
npm run dev
```

**í™˜ê²½ ë³€ìˆ˜** (`.env`):
```env
NODE_ENV=development
PORT=3001
SUPABASE_URL=https://uewhvekfjjvxoioklzza.supabase.co
SUPABASE_ANON_KEY=***
```

### 4.4 API ë¼ìš°íŠ¸ ëª©ë¡

| ë¼ìš°íŠ¸ | íŒŒì¼ | ì„¤ëª… |
|--------|------|------|
| /api/auth | authRoutes.js | ì¸ì¦ API |
| /api/dashboard | dashboardRoutes.js | ëŒ€ì‹œë³´ë“œ API |
| /api/events | eventRoutes.js | ì´ë²¤íŠ¸ API |
| /api/admin | adminRoutes.js | ê´€ë¦¬ì API |
| /api/favorites | favoriteRoutes.js | ì¦ê²¨ì°¾ê¸° API |

---

## 5. í¬ë¡¤ëŸ¬ ê°œë°œ ê°€ì´ë“œ

### 5.1 ê¸°ìˆ  ìŠ¤íƒ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Python | 3.12.2 | í”„ë¡œê·¸ë˜ë° ì–¸ì–´ |
| Selenium | 4.33.0 | ë¸Œë¼ìš°ì € ìë™í™” |
| BeautifulSoup4 | 4.14.2 | HTML íŒŒì‹± |
| Supabase Python | 2.25.0 | Supabase í´ë¼ì´ì–¸íŠ¸ |

### 5.2 ì£¼ìš” íŒŒì¼ ì„¤ëª…

#### 5.2.1 `comprehensive_naver_crawler.py`

**ë„¤ì´ë²„ ì‡¼í•‘ë¼ì´ë¸Œ í¬ë¡¤ëŸ¬**:
```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ë„¤ì´ë²„ ì‡¼í•‘ë¼ì´ë¸Œ ì¢…í•© í¬ë¡¤ëŸ¬
ìƒí’ˆ, ì¿ í°, í˜œíƒ, ëŒ“ê¸€, FAQ ë“± ëª¨ë“  ì •ë³´ ìˆ˜ì§‘
"""

import sys
import time
import logging
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
from bs4 import BeautifulSoup
from supabase import create_client
from dotenv import load_dotenv
import os

# í™˜ê²½ë³€ìˆ˜ ë¡œë“œ
load_dotenv()

# ë¡œê¹… ì„¤ì •
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s'
)
logger = logging.getLogger(__name__)


class ComprehensiveNaverCrawler:
    """ë„¤ì´ë²„ ì‡¼í•‘ë¼ì´ë¸Œ ì¢…í•© í¬ë¡¤ëŸ¬"""
    
    def __init__(self):
        """í¬ë¡¤ëŸ¬ ì´ˆê¸°í™”"""
        self.driver = None
        
        # Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
        supabase_url = os.getenv('SUPABASE_URL')
        supabase_key = os.getenv('SUPABASE_ANON_KEY')
        
        if not supabase_url or not supabase_key:
            logger.error("âŒ Supabase ì„¤ì •ì´ ì—†ìŠµë‹ˆë‹¤.")
            raise ValueError("Supabase ì„¤ì • í•„ìš”")
        
        self.supabase = create_client(supabase_url, supabase_key)
        logger.info("âœ… Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ì™„ë£Œ")
    
    def crawl_comprehensive_data(self, p_live_url, p_live_id, p_brand_name=''):
        """
        ë¼ì´ë¸Œ ë°©ì†¡ì˜ ëª¨ë“  ì •ë³´ ìˆ˜ì§‘
        
        Args:
            p_live_url (str): ë¼ì´ë¸Œ ë°©ì†¡ URL
            p_live_id (str): ë¼ì´ë¸Œ ë°©ì†¡ ID
            p_brand_name (str): ë¸Œëœë“œëª…
        """
        logger.info(f"ğŸ¬ ì¢…í•© ì •ë³´ ìˆ˜ì§‘ ì¤‘: {p_live_id}")
        
        # í˜ì´ì§€ ë¡œë“œ
        self.driver.get(p_live_url)
        time.sleep(3)
        
        # ë°ì´í„° ìˆ˜ì§‘
        _v_data = {
            'products': self._collect_products(),
            'coupons': self._collect_coupons(),
            'comments': self._collect_comments(),
            'faqs': self._collect_faqs(),
        }
        
        # Supabase ì €ì¥
        self._save_to_supabase(p_live_id, _v_data)
        
        logger.info(f"âœ… ìˆ˜ì§‘ ì™„ë£Œ: {p_live_id}")
        
        return _v_data
```

#### 5.2.2 `dynamic_scheduler.py`

**ë™ì  ìŠ¤ì¼€ì¤„ëŸ¬**:
```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ë™ì  í”Œë«í¼ ë°ì´í„° ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬
ê´€ë¦¬ì ê¸°ëŠ¥ì—ì„œ ì¶”ê°€í•œ í”Œë«í¼ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  í¬ë¡¤ë§í•©ë‹ˆë‹¤.
"""

import schedule
import time
import logging
from datetime import datetime
from pathlib import Path

# ë¡œê¹… ì„¤ì •
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s [%(levelname)s] %(message)s'
)
logger = logging.getLogger(__name__)


class DynamicDataCollectionScheduler:
    """ë™ì  ë°ì´í„° ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬"""
    
    def __init__(self):
        """ìŠ¤ì¼€ì¤„ëŸ¬ ì´ˆê¸°í™”"""
        self.p_crawler_dir = Path(__file__).parent
        self.p_output_dir = self.p_crawler_dir / 'output'
        self.p_output_dir.mkdir(exist_ok=True)
    
    def collect_all_platforms_data(self):
        """ëª¨ë“  í™œì„± í”Œë«í¼ ë°ì´í„° ìˆ˜ì§‘"""
        logger.info("=" * 80)
        logger.info("ğŸ”„ ì „ì²´ í”Œë«í¼ ë°ì´í„° ìˆ˜ì§‘ ì‹œì‘")
        logger.info("=" * 80)
        
        # í”Œë«í¼ ë¡œë“œ
        platforms = self.load_platforms()
        
        # ê° í”Œë«í¼ í¬ë¡¤ë§
        for platform in platforms:
            self.collect_platform_data(platform)
        
        logger.info("=" * 80)
        logger.info("ğŸ“Š ìˆ˜ì§‘ ì™„ë£Œ")
        logger.info("=" * 80)


def main():
    """ë©”ì¸ í•¨ìˆ˜"""
    logger.info("ğŸš€ ë™ì  í”Œë«í¼ ë°ì´í„° ìˆ˜ì§‘ ìŠ¤ì¼€ì¤„ëŸ¬ ì‹œì‘")
    logger.info("â° ìˆ˜ì§‘ ì£¼ê¸°: ë§¤ ì‹œê°„ ì •ê°")
    
    scheduler = DynamicDataCollectionScheduler()
    
    # ì‹œì‘ ì‹œ ì¦‰ì‹œ 1íšŒ ì‹¤í–‰
    scheduler.collect_all_platforms_data()
    
    # ë§¤ ì‹œê°„ ì •ê°ì— ì‹¤í–‰
    schedule.every().hour.at(":00").do(scheduler.collect_all_platforms_data)
    
    logger.info("âœ… ìŠ¤ì¼€ì¤„ëŸ¬ ì¤€ë¹„ ì™„ë£Œ")
    
    try:
        while True:
            schedule.run_pending()
            time.sleep(60)
    except KeyboardInterrupt:
        logger.info("\nâ¹ï¸  ìŠ¤ì¼€ì¤„ëŸ¬ ì¢…ë£Œ")


if __name__ == "__main__":
    main()
```

### 5.3 ê°œë°œ í™˜ê²½ ì„¤ì •

**ë¡œì»¬ ì‹¤í–‰**:
```bash
cd crawler
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
python3 comprehensive_naver_crawler.py
```

**í™˜ê²½ ë³€ìˆ˜** (`.env`):
```env
SUPABASE_URL=https://uewhvekfjjvxoioklzza.supabase.co
SUPABASE_ANON_KEY=***
```

---

## 6. ì½”ë”© ì»¨ë²¤ì…˜

### 6.1 JavaScript/React ì»¨ë²¤ì…˜

**ë³€ìˆ˜ ëª…ëª…**:
```javascript
// camelCase ì‚¬ìš©
const userName = 'John';
const isActive = true;

// ìƒìˆ˜ëŠ” UPPER_CASE
const API_URL = 'https://api.example.com';
const MAX_RETRY = 3;

// ì»´í¬ë„ŒíŠ¸ëŠ” PascalCase
function Dashboard() {
  return <div>Dashboard</div>;
}
```

**í•¨ìˆ˜ ëª…ëª…**:
```javascript
// ë™ì‚¬ + ëª…ì‚¬
function getUserById(id) { }
function calculateTotalPrice() { }
function handleSubmit() { }
```

**ì£¼ì„**:
```javascript
/**
 * ì‚¬ìš©ì ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
 * 
 * @param {string} userId - ì‚¬ìš©ì ID
 * @returns {Promise<Object>} ì‚¬ìš©ì ì •ë³´
 */
async function getUser(userId) {
  // ...
}
```

### 6.2 Node.js ì»¨ë²¤ì…˜

**ë³€ìˆ˜ ëª…ëª…**:
```javascript
// íŒŒë¼ë¯¸í„°: p_ ì ‘ë‘ì‚¬
function processData(p_data, p_options) {
  // ì§€ì—­ë³€ìˆ˜: _v_ ì ‘ë‘ì‚¬
  const _v_result = [];
  const _v_count = 0;
  
  // ...
}
```

**ì—ëŸ¬ ì²˜ë¦¬**:
```javascript
try {
  const _v_data = await fetchData();
  return _v_data;
} catch (p_error) {
  logger.error('ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨:', p_error);
  throw new Error('ë°ì´í„° ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ ë°œìƒ');
}
```

### 6.3 Python ì»¨ë²¤ì…˜

**ë³€ìˆ˜ ëª…ëª…**:
```python
# snake_case ì‚¬ìš©
user_name = 'John'
is_active = True

# ìƒìˆ˜ëŠ” UPPER_CASE
API_URL = 'https://api.example.com'
MAX_RETRY = 3

# í´ë˜ìŠ¤ëŠ” PascalCase
class NaverCrawler:
    pass
```

**í•¨ìˆ˜ ëª…ëª…**:
```python
def get_user_by_id(p_user_id):
    """
    ì‚¬ìš©ì ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
    
    Args:
        p_user_id (str): ì‚¬ìš©ì ID
        
    Returns:
        dict: ì‚¬ìš©ì ì •ë³´
    """
    # ì§€ì—­ë³€ìˆ˜: _v_ ì ‘ë‘ì‚¬
    _v_result = {}
    
    return _v_result
```

---

## 7. ê°œë°œ í™˜ê²½ ì„¤ì •

### 7.1 í•„ìˆ˜ ë„êµ¬

| ë„êµ¬ | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Node.js | 18+ | JavaScript ëŸ°íƒ€ì„ |
| Python | 3.10+ | Python ëŸ°íƒ€ì„ |
| Git | 2.x | ë²„ì „ ê´€ë¦¬ |
| VS Code | Latest | ì½”ë“œ ì—ë””í„° (ê¶Œì¥) |

### 7.2 VS Code í™•ì¥

**JavaScript/React**:
- ESLint
- Prettier
- ES7+ React/Redux/React-Native snippets

**Python**:
- Python
- Pylance
- Python Docstring Generator

### 7.3 ë¡œì»¬ ê°œë°œ í™˜ê²½ êµ¬ì¶•

**1. ì €ì¥ì†Œ í´ë¡ **:
```bash
git clone https://github.com/Munseunghun/ai_cs.git
cd ai_cs
```

**2. í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì •**:
```bash
cd frontend
npm install
cp .env.example .env.development
# .env.development íŒŒì¼ ìˆ˜ì •
npm start
```

**3. ë°±ì—”ë“œ ì„¤ì •**:
```bash
cd backend
npm install
cp .env.example .env
# .env íŒŒì¼ ìˆ˜ì •
npm run dev
```

**4. í¬ë¡¤ëŸ¬ ì„¤ì •**:
```bash
cd crawler
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
# .env íŒŒì¼ ìˆ˜ì •
python3 comprehensive_naver_crawler.py
```

### 7.4 ê°œë°œ ì›Œí¬í”Œë¡œìš°

**1. ìƒˆ ê¸°ëŠ¥ ê°œë°œ**:
```bash
# 1. develop ë¸Œëœì¹˜ì—ì„œ feature ë¸Œëœì¹˜ ìƒì„±
git checkout develop
git pull origin develop
git checkout -b feature/new-feature

# 2. ì½”ë“œ ì‘ì„± ë° ì»¤ë°‹
git add .
git commit -m "feat: ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€"

# 3. í‘¸ì‹œ ë° PR ìƒì„±
git push origin feature/new-feature
# GitHubì—ì„œ Pull Request ìƒì„±
```

**2. ë²„ê·¸ ìˆ˜ì •**:
```bash
# 1. fix ë¸Œëœì¹˜ ìƒì„±
git checkout -b fix/bug-description

# 2. ë²„ê·¸ ìˆ˜ì • ë° ì»¤ë°‹
git add .
git commit -m "fix: ë²„ê·¸ ìˆ˜ì •"

# 3. í‘¸ì‹œ ë° PR ìƒì„±
git push origin fix/bug-description
```

---

## ë¶€ë¡ A: ìœ ìš©í•œ ìŠ¤í¬ë¦½íŠ¸

### A.1 ì „ì²´ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# build_all.sh

echo "=== ì „ì²´ ë¹Œë“œ ì‹œì‘ ==="

# í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ
echo "1. í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ..."
cd frontend
npm install
npm run build
cd ..

# ë°±ì—”ë“œ ë¹Œë“œ
echo "2. ë°±ì—”ë“œ ë¹Œë“œ..."
cd backend
npm install
cd ..

echo "=== ë¹Œë“œ ì™„ë£Œ ==="
```

### A.2 ë¡œì»¬ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸

```bash
#!/bin/bash
# run_local.sh

echo "=== ë¡œì»¬ í™˜ê²½ ì‹¤í–‰ ==="

# ë°±ì—”ë“œ ì‹¤í–‰
echo "1. ë°±ì—”ë“œ ì‹¤í–‰..."
cd backend
npm run dev &
BACKEND_PID=$!

# í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰
echo "2. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰..."
cd ../frontend
npm start &
FRONTEND_PID=$!

echo "ë°±ì—”ë“œ PID: $BACKEND_PID"
echo "í”„ë¡ íŠ¸ì—”ë“œ PID: $FRONTEND_PID"

# Ctrl+C ì‹œ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
trap "kill $BACKEND_PID $FRONTEND_PID" EXIT

wait
```

---

**ë¬¸ì„œ ì´ë ¥**

| ë²„ì „ | ë‚ ì§œ | ì‘ì„±ì | ë³€ê²½ ë‚´ì—­ |
|------|------|--------|----------|
| 1.0 | 2025-12-08 | AI Assistant | ìµœì´ˆ ì‘ì„± |

---

**Â© 2025 Amore Pacific. All Rights Reserved.**

