# í”„ë¡œë•ì…˜ ë°°í¬ ìˆ˜ì • ì™„ë£Œ

ìž‘ì„± ì¼ì‹œ: 2025-12-04 16:15

---

## âœ… ì™„ë£Œëœ ìž‘ì—…

### 1. ì½”ë“œ ìˆ˜ì •

#### AdminPanel.jsx ìˆ˜ì •
- âŒ **ì´ì „**: í•˜ë“œì½”ë”©ëœ `http://localhost:3001` ì‚¬ìš©
- âœ… **ìˆ˜ì • í›„**: í™˜ê²½ ë³€ìˆ˜ `process.env.REACT_APP_API_URL` ì‚¬ìš©

**ìˆ˜ì •ëœ ì½”ë“œ**:
```javascript
// í™˜ê²½ ë³€ìˆ˜ì—ì„œ API URL ê°€ì ¸ì˜¤ê¸° (í”„ë¡œë•ì…˜/ê°œë°œ í™˜ê²½ ëŒ€ì‘)
const _v_api_base_url = process.env.REACT_APP_API_URL || 'http://localhost:3001';
const response = await fetch(`${_v_api_base_url}/api/admin/platforms`, {
  // ...
});
```

#### ë‹¤ë¥¸ íŒŒì¼ë“¤
- âœ… `Dashboard.jsx`: ì´ë¯¸ í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš© ì¤‘
- âœ… `LiveBroadcastDetail.jsx`: ì´ë¯¸ í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš© ì¤‘
- âœ… `SearchEvents.jsx`: ì´ë¯¸ í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš© ì¤‘
- âœ… `api/axios.js`: ì´ë¯¸ í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš© ì¤‘

### 2. ë°°í¬ ì¤€ë¹„ íŒŒì¼ ìƒì„±

- âœ… `backend/Procfile`: Heroku ë°°í¬ìš©
- âœ… `backend/.dockerignore`: Docker ë°°í¬ìš© (ì„ íƒì )
- âœ… `ë°±ì—”ë“œ_ë°°í¬_ê°€ì´ë“œ.md`: ìƒì„¸ ë°°í¬ ê°€ì´ë“œ

---

## ðŸš¨ í˜„ìž¬ ìƒíƒœ

### ë¬¸ì œì 
í”„ë¡ íŠ¸ì—”ë“œëŠ” Firebase í˜¸ìŠ¤íŒ…ì— ë°°í¬ë˜ì—ˆì§€ë§Œ, ë°±ì—”ë“œ ì„œë²„ê°€ ì•„ì§ ë°°í¬ë˜ì§€ ì•Šì•„ì„œ:
- âŒ ë‹¤ë¥¸ PCì—ì„œ ì ‘ì† ì‹œ `localhost:3001`ì— ì—°ê²°í•  ìˆ˜ ì—†ìŒ
- âŒ í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ API ìš”ì²­ ì‹¤íŒ¨

### í•´ê²° í•„ìš” ì‚¬í•­
1. **ë°±ì—”ë“œ ì„œë²„ ë°°í¬** (Railway/Render/Heroku ì¤‘ ì„ íƒ)
2. **í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •** (`.env.production` íŒŒì¼)
3. **í”„ë¡ íŠ¸ì—”ë“œ ìž¬ë¹Œë“œ ë° ìž¬ë°°í¬**

---

## ðŸ“‹ ë‹¤ìŒ ë‹¨ê³„

### 1ë‹¨ê³„: ë°±ì—”ë“œ ì„œë²„ ë°°í¬

**ì¶”ì²œ í”Œëž«í¼**: Railway (ê°€ìž¥ ê°„ë‹¨í•˜ê³  ë¹ ë¦„)

#### Railway ë°°í¬ ë°©ë²•

1. **Railway ê³„ì • ìƒì„±**
   - https://railway.app ì ‘ì†
   - GitHubë¡œ ë¡œê·¸ì¸

2. **í”„ë¡œì íŠ¸ ìƒì„±**
   - "New Project" í´ë¦­
   - "Deploy from GitHub repo" ì„ íƒ
   - ë°±ì—”ë“œ ì €ìž¥ì†Œ ì„ íƒ

3. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •**
   Railway ëŒ€ì‹œë³´ë“œ â†’ Variables íƒ­ì—ì„œ ì„¤ì •:
   ```env
   NODE_ENV=production
   PORT=3000
   HOST=0.0.0.0
   SUPABASE_URL=https://uewhvekfjjvxoioklzza.supabase.co
   SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
   SUPABASE_PUBLISHABLE_KEY=sb_publishable_CLrBJ-Hxb7h3sKNUgW08Zg_M6UFo1kN
   ```

4. **ë°°í¬ ì™„ë£Œ í›„ URL í™•ì¸**
   - ì˜ˆ: `https://ai-cs-backend.railway.app`
   - ì´ URLì„ ë‹¤ìŒ ë‹¨ê³„ì—ì„œ ì‚¬ìš©

#### ë‹¤ë¥¸ í”Œëž«í¼ ì„ íƒ ì‹œ
- **Render**: https://render.com (ë¬´ë£Œ í”Œëžœ ì œê³µ)
- **Heroku**: https://heroku.com (ìœ ë£Œ í”Œëžœ í•„ìš”)

ìžì„¸í•œ ë‚´ìš©ì€ `ë°±ì—”ë“œ_ë°°í¬_ê°€ì´ë“œ.md` ì°¸ê³ 

---

### 2ë‹¨ê³„: ë°±ì—”ë“œ CORS ì„¤ì • ì—…ë°ì´íŠ¸

ë°±ì—”ë“œ ì„œë²„ ë°°í¬ í›„, `backend/src/server.js`ì˜ CORS ì„¤ì •ì— ë°°í¬ëœ ë°±ì—”ë“œ URLì„ ì¶”ê°€í•  í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤ (í”„ë¡ íŠ¸ì—”ë“œ URLë§Œ ì¶”ê°€í•˜ë©´ ë¨).

í•˜ì§€ë§Œ í”„ë¡ íŠ¸ì—”ë“œ URLì´ ì´ë¯¸ í¬í•¨ë˜ì–´ ìžˆëŠ”ì§€ í™•ì¸:
```javascript
const _v_cors_options = {
  origin: [
    'http://localhost:3000',
    'http://localhost:3001',
    'https://ai-cs-bf933.web.app',      // âœ… ì´ë¯¸ í¬í•¨ë¨
    'https://ai-cs-bf933.firebaseapp.com' // âœ… ì´ë¯¸ í¬í•¨ë¨
  ],
  // ...
};
```

---

### 3ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

ë°±ì—”ë“œ ì„œë²„ ë°°í¬ ì™„ë£Œ í›„, `frontend/.env.production` íŒŒì¼ì„ ìƒì„±í•˜ê±°ë‚˜ ìˆ˜ì •:

```bash
cd frontend
cat > .env.production << 'EOF'
# í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜
REACT_APP_SUPABASE_URL=https://uewhvekfjjvxoioklzza.supabase.co
REACT_APP_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVld2h2ZWtmamp2eG9pb2tsenphIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzNDI5NDYsImV4cCI6MjA3OTkxODk0Nn0.bMLOKKMLyz7VEr3B8IMo-upyZ4rzvzm3NSZYLfkYU3I
REACT_APP_SUPABASE_PUBLISHABLE_KEY=sb_publishable_CLrBJ-Hxb7h3sKNUgW08Zg_M6UFo1kN

# Firebase ì„¤ì •
REACT_APP_FIREBASE_API_KEY=AIzaSyDq11o7vR0PNiMm7gutKPQGlmFOCvcNtis
REACT_APP_FIREBASE_AUTH_DOMAIN=ai-cs-bf933.firebaseapp.com
REACT_APP_FIREBASE_PROJECT_ID=ai-cs-bf933
REACT_APP_FIREBASE_STORAGE_BUCKET=ai-cs-bf933.firebasestorage.app
REACT_APP_FIREBASE_MESSAGING_SENDER_ID=209696960764
REACT_APP_FIREBASE_APP_ID=1:209696960764:web:cbdb5dbb11bf3da4cd6779

# ë°±ì—”ë“œ API URL (ë°°í¬ëœ ë°±ì—”ë“œ URLë¡œ ë³€ê²½)
REACT_APP_API_URL=https://your-backend-url.railway.app
EOF
```

**âš ï¸ ì¤‘ìš”**: `REACT_APP_API_URL` ê°’ì„ ì‹¤ì œ ë°°í¬ëœ ë°±ì—”ë“œ URLë¡œ ë³€ê²½í•˜ì„¸ìš”!

---

### 4ë‹¨ê³„: í”„ë¡ íŠ¸ì—”ë“œ ìž¬ë¹Œë“œ ë° ìž¬ë°°í¬

```bash
# 1. í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ (í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©)
cd frontend
npm run build

# 2. Firebase í˜¸ìŠ¤íŒ… ìž¬ë°°í¬
cd ..
firebase deploy --only hosting
```

---

## âœ… ë°°í¬ í™•ì¸

### ë°±ì—”ë“œ ì„œë²„ í™•ì¸

```bash
# Health Check (ë°°í¬ëœ ë°±ì—”ë“œ URLë¡œ ë³€ê²½)
curl https://your-backend-url.railway.app/health

# API í…ŒìŠ¤íŠ¸
curl https://your-backend-url.railway.app/api/dashboard
```

### í”„ë¡ íŠ¸ì—”ë“œ í™•ì¸

1. ë¸Œë¼ìš°ì €ì—ì„œ https://ai-cs-bf933.web.app ì ‘ì†
2. ê°œë°œìž ë„êµ¬ (F12) â†’ Network íƒ­ ì—´ê¸°
3. API ìš”ì²­ì´ ì˜¬ë°”ë¥¸ ë°±ì—”ë“œ URLë¡œ ì „ì†¡ë˜ëŠ”ì§€ í™•ì¸
4. ì—ëŸ¬ê°€ ì—†ëŠ”ì§€ í™•ì¸

---

## ðŸ› íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ 1: ì—¬ì „ížˆ localhost:3001ë¡œ ìš”ì²­

**ì›ì¸**: í™˜ê²½ ë³€ìˆ˜ê°€ ë¹Œë“œì— í¬í•¨ë˜ì§€ ì•ŠìŒ

**í•´ê²°**:
1. `.env.production` íŒŒì¼ì´ `frontend/` ë””ë ‰í† ë¦¬ì— ìžˆëŠ”ì§€ í™•ì¸
2. ë¹Œë“œ ì „ì— í™˜ê²½ ë³€ìˆ˜ í™•ì¸: `cat frontend/.env.production | grep REACT_APP_API_URL`
3. ë¹Œë“œ í›„ í™•ì¸: `grep -r "localhost:3001" frontend/build/static/js/` (ì—†ì–´ì•¼ í•¨)

### ë¬¸ì œ 2: CORS ì—ëŸ¬

**ì›ì¸**: ë°±ì—”ë“œ CORS ì„¤ì •ì— í”„ë¡ íŠ¸ì—”ë“œ URLì´ ì—†ìŒ

**í•´ê²°**:
1. `backend/src/server.js`ì˜ CORS ì„¤ì • í™•ì¸
2. í”„ë¡ íŠ¸ì—”ë“œ URL (`https://ai-cs-bf933.web.app`)ì´ í¬í•¨ë˜ì–´ ìžˆëŠ”ì§€ í™•ì¸
3. ë°±ì—”ë“œ ì„œë²„ ìž¬ì‹œìž‘

### ë¬¸ì œ 3: ë°±ì—”ë“œ ì„œë²„ê°€ ì‘ë‹µí•˜ì§€ ì•ŠìŒ

**ì›ì¸**: í™˜ê²½ ë³€ìˆ˜ ëˆ„ë½ ë˜ëŠ” ì„œë²„ ì˜¤ë¥˜

**í•´ê²°**:
1. Railway/Render/Heroku ëŒ€ì‹œë³´ë“œì—ì„œ ë¡œê·¸ í™•ì¸
2. í™˜ê²½ ë³€ìˆ˜ê°€ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
3. Supabase ì—°ê²° í™•ì¸

---

## ðŸ“ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] `AdminPanel.jsx` í•˜ë“œì½”ë”© ì œê±°
- [x] ë°°í¬ ì¤€ë¹„ íŒŒì¼ ìƒì„± (`Procfile`, `.dockerignore`)
- [x] ë°°í¬ ê°€ì´ë“œ ë¬¸ì„œ ìž‘ì„±
- [ ] ë°±ì—”ë“œ ì„œë²„ ë°°í¬ (Railway/Render/Heroku)
- [ ] ë°±ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
- [ ] ë°±ì—”ë“œ Health Check ì„±ê³µ í™•ì¸
- [ ] `frontend/.env.production` íŒŒì¼ ìƒì„± ë° ë°±ì—”ë“œ URL ì„¤ì •
- [ ] í”„ë¡ íŠ¸ì—”ë“œ ìž¬ë¹Œë“œ
- [ ] Firebase í˜¸ìŠ¤íŒ… ìž¬ë°°í¬
- [ ] í”„ë¡œë•ì…˜ ì‚¬ì´íŠ¸ì—ì„œ ì •ìƒ ìž‘ë™ í™•ì¸

---

## ðŸŽ¯ ìš”ì•½

### ì™„ë£Œëœ ìž‘ì—…
1. âœ… ì½”ë“œ ìˆ˜ì •: í•˜ë“œì½”ë”©ëœ `localhost:3001` ì œê±°
2. âœ… ë°°í¬ ì¤€ë¹„ íŒŒì¼ ìƒì„±
3. âœ… ë°°í¬ ê°€ì´ë“œ ë¬¸ì„œ ìž‘ì„±

### ë‹¤ìŒ ìž‘ì—… í•„ìš”
1. **ë°±ì—”ë“œ ì„œë²„ ë°°í¬** (ê°€ìž¥ ì¤‘ìš”!)
2. í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
3. í”„ë¡ íŠ¸ì—”ë“œ ìž¬ë¹Œë“œ ë° ìž¬ë°°í¬

---

## ðŸ“š ì°¸ê³  ë¬¸ì„œ

- `ë°±ì—”ë“œ_ë°°í¬_ê°€ì´ë“œ.md`: ìƒì„¸í•œ ë°°í¬ ê°€ì´ë“œ
- `Firebase_í˜¸ìŠ¤íŒ…_ë°°í¬_ì™„ë£Œ.md`: Firebase í˜¸ìŠ¤íŒ… ë°°í¬ ì •ë³´

---

**ë‹¤ìŒ ë‹¨ê³„**: ë°±ì—”ë“œ ì„œë²„ë¥¼ Railway/Render/Herokuì— ë°°í¬í•˜ì„¸ìš”!
