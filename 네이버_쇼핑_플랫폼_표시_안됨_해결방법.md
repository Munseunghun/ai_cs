# 네이버 쇼핑 플랫폼이 드롭다운에 표시되지 않는 문제 해결

**문제**: 검색 조건 플랫폼 영역에 "네이버스마트스토어"가 나오지 않음

**원인**: 브라우저 로컬스토리지에 이전 플랫폼 목록이 캐시되어 있음

---

## 🔧 해결 방법

### 방법 1: 하드 리프레시 (권장)

**Windows/Linux**:
```
Ctrl + Shift + R
또는
Ctrl + F5
```

**Mac**:
```
Cmd + Shift + R
또는
Cmd + Option + R
```

---

### 방법 2: 로컬스토리지 수동 삭제

**1단계**: 브라우저 개발자 도구 열기
- Windows/Linux: `F12` 또는 `Ctrl + Shift + I`
- Mac: `Cmd + Option + I`

**2단계**: Console 탭에서 실행
```javascript
// 플랫폼 캐시 삭제
localStorage.removeItem('admin_platforms');

// 페이지 새로고침
location.reload();
```

---

### 방법 3: 브라우저 캐시 전체 삭제

**Chrome**:
1. 설정 (⋮) > 도구 더보기 > 인터넷 사용 기록 삭제
2. "캐시된 이미지 및 파일" 체크
3. "인터넷 사용 기록 삭제" 클릭

**Firefox**:
1. 메뉴 (≡) > 설정 > 개인 정보 및 보안
2. "쿠키 및 사이트 데이터" > "데이터 지우기"
3. "캐시된 웹 콘텐츠" 체크 후 "지우기"

**Safari**:
1. Safari > 환경설정 > 고급
2. "메뉴 막대에서 개발자용 메뉴 보기" 체크
3. 개발자용 > 캐시 비우기

---

## ✅ 확인 방법

### 1. 플랫폼 드롭다운 확인

**위치**: Live 방송 조회 > 플랫폼 드롭다운

**예상 결과**:
```
네이버
네이버스마트스토어  ← 이 항목이 보여야 함
카카오
11번가
G마켓
올리브영
그립
무신사
롯데온
아모레몰
이니스프리몰
```

---

### 2. 개발자 도구에서 확인

**Console에서 실행**:
```javascript
// 플랫폼 목록 확인
const platforms = JSON.parse(localStorage.getItem('admin_platforms') || '[]');
console.log('플랫폼 목록:', platforms);

// NAVER_SHOPPING 플랫폼 확인
const naverShopping = platforms.find(p => p.code === 'NAVER_SHOPPING');
console.log('네이버스마트스토어:', naverShopping);
```

**예상 출력**:
```javascript
{
  id: 'NAVER_SHOPPING',
  code: 'NAVER_SHOPPING',
  name: '네이버스마트스토어',
  url: 'https://brand.naver.com',
  isActive: true
}
```

---

### 3. 검색 테스트

**테스트 순서**:
1. 플랫폼 드롭다운에서 "네이버스마트스토어" 선택
2. 브랜드 드롭다운에서 "아이오페" 선택
3. "검색" 버튼 클릭

**예상 결과**:
```
┌─────────────────────────────────────────┐
│ 아이오페 XMD스템                         │
│ 네이버스마트스토어 | 아이오페             │
│ 2025-12-16                              │
│ [상세보기] 버튼                          │
└─────────────────────────────────────────┘
```

---

## 🔍 Netlify 배포 상태 확인

### 배포 완료 확인 방법

**1. Netlify 대시보드**:
- https://app.netlify.com/sites/aics1/deploys
- 최신 배포 상태 확인

**2. 배포 시간 확인**:
- 마지막 커밋: `31b316a` (2025-12-16 11:22)
- 예상 배포 완료: 11:27 (약 5분 소요)

**3. 배포 완료 확인**:
```bash
# 최신 코드 확인
curl -s https://aics1.netlify.app/static/js/main.*.js | grep -o "NAVER_SHOPPING" | head -1
```

**예상 출력**: `NAVER_SHOPPING`

---

## 🐛 여전히 표시되지 않는 경우

### 디버깅 단계

**1단계**: 개발자 도구 Console에서 확인
```javascript
// 1. platformUtils 모듈 확인
import { getPlatforms } from './utils/platformUtils';
const platforms = getPlatforms();
console.log('플랫폼 수:', platforms.length);
console.log('NAVER_SHOPPING 존재:', platforms.some(p => p.code === 'NAVER_SHOPPING'));

// 2. 드롭다운 옵션 확인
const options = platforms.map(p => ({ value: p.code, label: p.name }));
console.log('드롭다운 옵션:', options);
```

---

**2단계**: Network 탭에서 API 확인
```
1. Network 탭 열기
2. 페이지 새로고침
3. "main.*.js" 파일 확인
4. Response 탭에서 "NAVER_SHOPPING" 검색
```

**예상**: 코드에 `NAVER_SHOPPING` 문자열이 포함되어 있어야 함

---

**3단계**: 로컬스토리지 강제 업데이트
```javascript
// 기본 플랫폼 목록 강제 설정
const DEFAULT_PLATFORMS = [
  { id: 'NAVER', code: 'NAVER', name: '네이버', url: 'https://shoppinglive.naver.com', isActive: true },
  { id: 'NAVER_SHOPPING', code: 'NAVER_SHOPPING', name: '네이버스마트스토어', url: 'https://brand.naver.com', isActive: true },
  { id: 'KAKAO', code: 'KAKAO', name: '카카오', url: 'https://shoppinglive.kakao.com', isActive: true },
  { id: '11ST', code: '11ST', name: '11번가', url: 'https://m.11st.co.kr/page/main/live11', isActive: true },
  { id: 'GMARKET', code: 'GMARKET', name: 'G마켓', url: 'https://m.gmarket.co.kr/n/live/schedule', isActive: true },
  { id: 'OLIVEYOUNG', code: 'OLIVEYOUNG', name: '올리브영', url: 'https://m.oliveyoung.co.kr/m/mtn/explorer?menu=live', isActive: true },
  { id: 'GRIP', code: 'GRIP', name: '그립', url: 'https://www.grip.show/discover/category', isActive: true },
  { id: 'MUSINSA', code: 'MUSINSA', name: '무신사', url: 'https://www.musinsa.com/campaign/musinsa_live/0', isActive: true },
  { id: 'LOTTEON', code: 'LOTTEON', name: '롯데온', url: 'https://www.lotteon.com/display/planV2/planDetail', isActive: true },
  { id: 'AMOREMALL', code: 'AMOREMALL', name: '아모레몰', url: 'https://www.amoremall.com/kr/ko/display/live', isActive: true },
  { id: 'INNISFREE_MALL', code: 'INNISFREE_MALL', name: '이니스프리몰', url: 'https://www.innisfree.com/kr/ko/display/live', isActive: true },
];

// 로컬스토리지에 저장
localStorage.setItem('admin_platforms', JSON.stringify(DEFAULT_PLATFORMS));

// 페이지 새로고침
location.reload();
```

---

## 📊 예상 시나리오

### 시나리오 1: Netlify 배포 완료 전
**증상**: 플랫폼 드롭다운에 "네이버스마트스토어" 없음
**원인**: 아직 배포가 완료되지 않음
**해결**: 5분 대기 후 하드 리프레시

---

### 시나리오 2: 배포 완료 후 캐시 문제
**증상**: 배포는 완료되었지만 여전히 표시 안됨
**원인**: 브라우저 캐시
**해결**: 하드 리프레시 (Ctrl+Shift+R)

---

### 시나리오 3: 로컬스토리지 캐시 문제
**증상**: 하드 리프레시 후에도 표시 안됨
**원인**: 로컬스토리지에 이전 플랫폼 목록 저장됨
**해결**: 로컬스토리지 삭제 후 새로고침

---

## 🎯 빠른 해결 가이드

### 1분 안에 해결하기

```javascript
// 브라우저 Console에서 실행 (F12 > Console)

// 1. 로컬스토리지 삭제
localStorage.removeItem('admin_platforms');

// 2. 세션스토리지 삭제 (검색 상태 초기화)
sessionStorage.removeItem('searchState');

// 3. 페이지 새로고침
location.reload();
```

---

## ✅ 성공 확인

### 플랫폼 드롭다운 확인
![플랫폼 드롭다운](https://via.placeholder.com/400x300?text=Platform+Dropdown)

**체크리스트**:
- [ ] 플랫폼 드롭다운 클릭
- [ ] "네이버스마트스토어" 항목 확인
- [ ] "네이버스마트스토어" 선택
- [ ] 검색 버튼 클릭
- [ ] "아이오페 XMD스템" 이벤트 표시 확인

---

## 📞 추가 지원

### 여전히 문제가 해결되지 않는 경우

**1. 스크린샷 제공**:
- 플랫폼 드롭다운 스크린샷
- 브라우저 Console 스크린샷
- Network 탭 스크린샷

**2. 브라우저 정보**:
- 브라우저 종류 및 버전
- OS 정보

**3. 시도한 방법**:
- 하드 리프레시 시도 여부
- 로컬스토리지 삭제 여부
- 다른 브라우저 테스트 여부

---

## 🔄 임시 해결책

### 직접 URL로 접근

플랫폼 드롭다운이 작동하지 않는 경우, 직접 URL로 검색할 수 있습니다:

```
https://aics1.netlify.app/search?channel=NAVER_SHOPPING&brand=아이오페
```

**URL 파라미터**:
- `channel`: 플랫폼 코드 (NAVER_SHOPPING)
- `brand`: 브랜드명 (아이오페)
- `status`: 상태 (ACTIVE, PENDING, ENDED)
- `keyword`: 키워드 검색

---

## 📝 요약

**문제**: 네이버스마트스토어 플랫폼이 드롭다운에 표시되지 않음

**원인**: 브라우저 캐시 또는 로컬스토리지 캐시

**해결**:
1. ✅ 하드 리프레시 (Ctrl+Shift+R / Cmd+Shift+R)
2. ✅ 로컬스토리지 삭제 (`localStorage.removeItem('admin_platforms')`)
3. ✅ 페이지 새로고침 (`location.reload()`)

**확인**: 플랫폼 드롭다운에서 "네이버스마트스토어" 선택 가능

---

**© 2025 Amore Pacific. All Rights Reserved.**
